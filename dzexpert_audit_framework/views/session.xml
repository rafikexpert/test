<odoo>
        <record  id="dzexpert_audit_session_form"  model="ir.ui.view">
            <field  name="name">Session Form</field>
            <field  name="model">dzexpert.audit.session</field>
            <field  name="arch"  type="xml">
                <form duplicate="false" delete="true">
                    <header>
                        <field name="state" widget="statusbar" statusbar_visible="draft,done,cancel,en préparation"/>
                        <button name="action_progress"
                            type="object" string="Marquer en cours"
                            attrs="{'invisible': [('state', '!=', 'draft')], 'states': 'draft'}"
                            style="background-color: #71639E; color: white; font-size: 12px; border-radius: 4px;"
                            confirm="Vous etes sure de changer le status vers In progress ?"
                        />
                        <button name="action_cancel"
                            type="object" string="Annuler"
                            attrs="{'invisible': [('state', '!=', 'en préparation')], 'states': 'en préparation'}"
                            style="background-color: grey; color: white; font-size: 12px; border-radius: 4px;"
                            confirm="Vous etes sure d'annuler la session ?"
                        />
                        <button name="action_done"
                            type="object" string="Seesion done!"
                            attrs="{'invisible': [('state', '!=', 'en préparation')], 'states': 'en préparation'}"
                            style="background-color: grey; color: white; font-size: 12px; border-radius: 4px;"
                            confirm="Vous etes sure de marquer la fin de la session ?"
                        />
                    </header>
                    <sheet>
                            <group>
                                <group id="header_left_group">
                                        <field name="name"  />	
                                        <field name="category_id" />
                                </group>
                                <group id="header_right_group">
                                        <field name="date" />
                                        <field name="notes" position="after"  />
                                </group>
                            </group>

                            <notebook  disable_anchor="true" >
                                <page id="line_ids" string="La liste des verifications" role="tab" disable_anchor="false" >
                                    <field name="line_ids" position="move" widget="one2many_tags_link">
                                        <tree duplicate="false" delete="false" editable="bottom"  >
                                            <field name="name" position="move" />
                                            <field name="session_id" position="move" />
                                            <field name="description" position="move" />
                                            <field name="rule_id" position="move" />
                                            <field name="category_id" position="move" />
                                        </tree>
                                    </field>
                                </page>

                                <page id="rules" string="Rules" role="tab">
                                    <field name="rules" position="move" widget="many2many_tags">
                                        <tree duplicate="false" delete="false" editable="bottom"  >
                                            <field name="name" position="move"/>
                                            <field name="rule_type" position="move"/>
                                            <field name="sequence" position="move" />
                                            <field name="category_id" position="move"/>
                                            <field name="code_dautomatisation" position="move"/>
                                        </tree>
                                    </field>
                                </page>

                            </notebook>
                    </sheet>	
                </form>
            </field>
        </record>

        <record id="dzexpert_audit_session_tree" model="ir.ui.view">
            <field name="name">Session Tree</field>
            <field  name="model">dzexpert.audit.session</field>  
            <field name="arch" type="xml">
                <tree duplicate="false" delete="false" >
					<field name="id" widget="handle" />
					<field name="name" />
   					<field name="category_id"  />                
					<field name="date"/>
                    <field name="state"/>
                </tree>
            </field>
        </record>

        <record id="action_dzexpert_audit_session" model="ir.actions.act_window">
            <field name="name">Session</field>
            <field name="res_model">dzexpert.audit.session</field>
            <field name="type">ir.actions.act_window</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[]</field>
            <field name="context">{}</field>                   
            <field name="view_mode">tree,kanban,form,activity</field>
        </record>

</odoo>
